let infoJSON = {
    "Initiate": {
        "artifacts": {
            "Initiate's Flower": {
                "img": "assets/initiate/Flower.png"
            },
            "Initiate's Feather": {
                "img": "assets/initiate/Feather.png"
            }
        }
    },
    "Adventurer": {
        "artifacts": {
            "Adventurer's Flower": {
                "img": "assets/adventurer/Flower.png"
            },
            "Adventurer's Tail Feather": {
                "img": "assets/adventurer/Feather.png"
            },
            "Adventurer's Pocket Watch": {
                "img": "assets/adventurer/Sands.png"
            },
            "Adventurer's Golden Goblet": {
                "img": "assets/adventurer/Goblet.png"
            },
            "Adventurer's Bandana": {
                "img": "assets/adventurer/Circlet.png"
            }
        }
    },
    "Lucky Dog": {
        "artifacts": {
            "Lucky Dog's Clover": {
                "img": "assets/lucky_dog/Flower.png"
            },
            "Lucky Dog's Eagle Feather": {
                "img": "assets/lucky_dog/Feather.png"
            },
            "Lucky Dog's Hourglass": {
                "img": "assets/lucky_dog/Sands.png"
            },
            "Lucky Dog's Goblet": {
                "img": "assets/lucky_dog/Goblet.png"
            },
            "Lucky Dog's Silver Circlet": {
                "img": "assets/lucky_dog/Circlet.png"
            }
        }
    },
    "Traveling Doctor": {
        "artifacts": {
            "Traveling Doctor's Silver Lotus": {
                "img": "assets/traveling_doctor/Flower.png"
            },
            "Traveling Doctor's Owl Feather": {
                "img": "assets/traveling_doctor/Feather.png"
            },
            "Traveling Doctor's Pocket Watch": {
                "img": "assets/traveling_doctor/Sands.png"
            },
            "Traveling Doctor's Medicine Pot": {
                "img": "assets/traveling_doctor/Goblet.png"
            },
            "Traveling Doctor's Handkerchief": {
                "img": "assets/traveling_doctor/Circlet.png"
            }
        }
    },
    "Resolution of Sojourner": {
        "artifacts": {
            "Heart of Comradeship": {
                "img": "assets/resolution_of_sojourner/Flower.png"
            },
            "Feather of Homecoming": {
                "img": "assets/resolution_of_sojourner/Feather.png"
            },
            "Sundial of the Sojourner": {
                "img": "assets/resolution_of_sojourner/Sands.png"
            },
            "Goblet of the Sojourner": {
                "img": "assets/resolution_of_sojourner/Goblet.png"
            },
            "Crown of Parting": {
                "img": "assets/resolution_of_sojourner/Circlet.png"
            }
        }
    },
    "Tiny Miracle": {
        "artifacts": {
            "Tiny Miracle's Flower": {
                "img": "assets/tiny_miracle/Flower.png"
            },
            "Tiny Miracle's Feather": {
                "img": "assets/tiny_miracle/Feather.png"
            },
            "Tiny Miracle's Hourglass": {
                "img": "assets/tiny_miracle/Sands.png"
            },
            "Tiny Miracle's Goblet": {
                "img": "assets/tiny_miracle/Goblet.png"
            },
            "Tiny Miracle's Earrings": {
                "img": "assets/tiny_miracle/Circlet.png"
            }
        }
    },
    "Berserker": {
        "artifacts": {
            "Berserker's Rose": {
                "img": "assets/berserker/Flower.png"
            },
            "Berserker's Indigo Feather": {
                "img": "assets/berserker/Feather.png"
            },
            "Berserker's Timepiece": {
                "img": "assets/berserker/Sands.png"
            },
            "Berserker's Bone Goblet": {
                "img": "assets/berserker/Goblet.png"
            },
            "Berserker's Battle Mask": {
                "img": "assets/berserker/Circlet.png"
            }
        }
    },
    "Instructor": {
        "artifacts": {
            "Instructor's Brooch": {
                "img": "assets/instructor/Flower.png"
            },
            "Instructor's Feather Accessory": {
                "img": "assets/instructor/Feather.png"
            },
            "Instructor's Pocket Watch": {
                "img": "assets/instructor/Sands.png"
            },
            "Instructor's Tea Cup": {
                "img": "assets/instructor/Goblet.png"
            },
            "Instructor's Cap": {
                "img": "assets/instructor/Circlet.png"
            }
        }
    },
    "The Exile": {
        "artifacts": {
            "Exile's Flower": {
                "img": "assets/the_exile/Flower.png"
            },
            "Exile's Feather": {
                "img": "assets/the_exile/Feather.png"
            },
            "Exile's Pocket Watch": {
                "img": "assets/the_exile/Sands.png"
            },
            "Exile's Goblet": {
                "img": "assets/the_exile/Goblet.png"
            },
            "Exile's Circlet": {
                "img": "assets/the_exile/Circlet.png"
            }
        }
    },
    "Defender's Will": {
        "artifacts": {
            "Guardian's Flower": {
                "img": "assets/defenders_will/Flower.png"
            },
            "Guardian's Sigil": {
                "img": "assets/defenders_will/Feather.png"
            },
            "Guardian's Clock": {
                "img": "assets/defenders_will/Sands.png"
            },
            "Guardian's Vessel": {
                "img": "assets/defenders_will/Goblet.png"
            },
            "Guardian's Band": {
                "img": "assets/defenders_will/Circlet.png"
            }
        }
    },
    "Brave Heart": {
        "artifacts": {
            "Medal of the Brave": {
                "img": "assets/brave_heart/Flower.png"
            },
            "Prospect of the Brave": {
                "img": "assets/brave_heart/Feather.png"
            },
            "Fortitude of the Brave": {
                "img": "assets/brave_heart/Sands.png"
            },
            "Outset of the Brave": {
                "img": "assets/brave_heart/Goblet.png"
            },
            "Crown of the Brave": {
                "img": "assets/brave_heart/Circlet.png"
            }
        }
    },
    "Martial Artist": {
        "artifacts": {
            "Martial Artist's Red Flower": {
                "img": "assets/martial_artist/Flower.png"
            },
            "Martial Artist's Feather Accessory": {
                "img": "assets/martial_artist/Feather.png"
            },
            "Martial Artist's Water Hourglass": {
                "img": "assets/martial_artist/Sands.png"
            },
            "Martial Artist's Wine Cup": {
                "img": "assets/martial_artist/Goblet.png"
            },
            "Martial Artist's Bandana": {
                "img": "assets/martial_artist/Circlet.png"
            }
        }
    },
    "Gambler": {
        "artifacts": {
            "Gambler's Brooch": {
                "img": "assets/gambler/Flower.png"
            },
            "Gambler's Feather Accessory": {
                "img": "assets/gambler/Feather.png"
            },
            "Gambler's Pocket Watch": {
                "img": "assets/gambler/Sands.png"
            },
            "Gambler's Dice Cup": {
                "img": "assets/gambler/Goblet.png"
            },
            "Gambler's Earrings": {
                "img": "assets/gambler/Circlet.png"
            }
        }
    },
    "Scholar": {
        "artifacts": {
            "Scholar's Bookmark": {
                "img": "assets/scholar/Flower.png"
            },
            "Scholar's Quill Pen": {
                "img": "assets/scholar/Feather.png"
            },
            "Scholar's Clock": {
                "img": "assets/scholar/Sands.png"
            },
            "Scholar's Ink Cup": {
                "img": "assets/scholar/Goblet.png"
            },
            "Scholar's Lens": {
                "img": "assets/scholar/Circlet.png"
            }
        }
    },
    "Prayers for Illumination": {
        "artifacts": {
            "Tiara of Flame": {
                "img": "assets/prayers_for_illumination/Circlet.png"
            }
        }
    },
    "Prayers for Destiny": {
        "artifacts": {
            "Tiara of Torrents": {
                "img": "assets/prayers_for_destiny/Circlet.png"
            }
        }
    },
    "Prayers for Wisdom": {
        "artifacts": {
            "Tiara of Thunder": {
                "img": "assets/prayers_for_wisdom/Circlet.png"
            }
        }
    },
    "Prayers to Springtime": {
        "artifacts": {
            "Tiara of Frost": {
                "img": "assets/prayers_to_springtime/Circlet.png"
            }
        }
    },
    "Gladiator's Finale": {
        "artifacts": {
            "Gladiator's Nostalgia": {
                "img": "assets/gladiators_finale/Flower.png"
            },
            "Gladiator's Destiny": {
                "img": "assets/gladiators_finale/Feather.png"
            },
            "Gladiator's Longing": {
                "img": "assets/gladiators_finale/Sands.png"
            },
            "Gladiator's Intoxication": {
                "img": "assets/gladiators_finale/Goblet.png"
            },
            "Gladiator's Triumphus": {
                "img": "assets/gladiators_finale/Circlet.png"
            }
        }
    },
    "Wanderer's Troupe": {
        "artifacts": {
            "Troupe's Dawnlight": {
                "img": "assets/wanderers_troupe/Flower.png"
            },
            "Bard's Arrow Feather": {
                "img": "assets/wanderers_troupe/Feather.png"
            },
            "Concert's Final Hour": {
                "img": "assets/wanderers_troupe/Sands.png"
            },
            "Wanderer's String Kettle": {
                "img": "assets/wanderers_troupe/Goblet.png"
            },
            "Conductor's Top Hat": {
                "img": "assets/wanderers_troupe/Circlet.png"
            }
        }
    },
    "Thundersoother": {
        "artifacts": {
            "Thundersoother's Heart": {
                "img": "assets/thundersoother/Flower.png"
            },
            "Thundersoother's Plume": {
                "img": "assets/thundersoother/Feather.png"
            },
            "Hour of Soothing Thunder": {
                "img": "assets/thundersoother/Sands.png"
            },
            "Thundersoother's Goblet": {
                "img": "assets/thundersoother/Goblet.png"
            },
            "Thundersoother's Diadem": {
                "img": "assets/thundersoother/Circlet.png"
            }
        }
    },
    "Thundering Fury": {
        "artifacts": {
            "Thunderbird's Mercy": {
                "img": "assets/thundering_fury/Flower.png"
            },
            "Survivor of Catastrophe": {
                "img": "assets/thundering_fury/Feather.png"
            },
            "Hourglass of Thunder": {
                "img": "assets/thundering_fury/Sands.png"
            },
            "Omen of Thunderstorm": {
                "img": "assets/thundering_fury/Goblet.png"
            },
            "Thunder Summoner's Crown": {
                "img": "assets/thundering_fury/Circlet.png"
            }
        }
    },
    "Maiden Beloved": {
        "artifacts": {
            "Maiden's Distant Love": {
                "img": "assets/maiden_beloved/Flower.png"
            },
            "Maiden's Heart-stricken Infatuation": {
                "img": "assets/maiden_beloved/Feather.png"
            },
            "Maiden's Passing Youth": {
                "img": "assets/maiden_beloved/Sands.png"
            },
            "Maiden's Fleeting Leisure": {
                "img": "assets/maiden_beloved/Goblet.png"
            },
            "Maiden's Fading Beauty": {
                "img": "assets/maiden_beloved/Circlet.png"
            }
        }
    },
    "Viridescent Venerer": {
        "artifacts": {
            "In Remembrance of Viridescent Fields": {
                "img": "assets/viridescent_venerer/Flower.png"
            },
            "Viridescent Arrow Feather": {
                "img": "assets/viridescent_venerer/Feather.png"
            },
            "Viridescent Venerer's Determination": {
                "img": "assets/viridescent_venerer/Sands.png"
            },
            "Viridescent Venerer's Vessel": {
                "img": "assets/viridescent_venerer/Goblet.png"
            },
            "Viridescent Venerer's Diadem": {
                "img": "assets/viridescent_venerer/Circlet.png"
            }
        }
    },
    "Crimson Witch of Flames": {
        "artifacts": {
            "Witch's Flower of Blaze": {
                "img": "assets/crimson_witch_of_flames/Flower.png"
            },
            "Witch's Ever-Burning Plume": {
                "img": "assets/crimson_witch_of_flames/Feather.png"
            },
            "Witch's End Time": {
                "img": "assets/crimson_witch_of_flames/Sands.png"
            },
            "Witch's Heart Flames": {
                "img": "assets/crimson_witch_of_flames/Goblet.png"
            },
            "Witch's Scorching Hat": {
                "img": "assets/crimson_witch_of_flames/Circlet.png"
            }
        }
    },
    "Lavawalker": {
        "artifacts": {
            "Lavawalker's Resolution": {
                "img": "assets/lavawalker/Flower.png"
            },
            "Lavawalker's Salvation": {
                "img": "assets/lavawalker/Feather.png"
            },
            "Lavawalker's Torment": {
                "img": "assets/lavawalker/Sands.png"
            },
            "Lavawalker's Epiphany": {
                "img": "assets/lavawalker/Goblet.png"
            },
            "Lavawalker's Wisdom": {
                "img": "assets/lavawalker/Circlet.png"
            }
        }
    },
    "Noblesse Oblige": {
        "artifacts": {
            "Royal Flora": {
                "img": "assets/noblesse_oblige/Flower.png"
            },
            "Royal Plume": {
                "img": "assets/noblesse_oblige/Feather.png"
            },
            "Royal Pocket Watch": {
                "img": "assets/noblesse_oblige/Sands.png"
            },
            "Royal Silver Urn": {
                "img": "assets/noblesse_oblige/Goblet.png"
            },
            "Royal Masque": {
                "img": "assets/noblesse_oblige/Circlet.png"
            }
        }
    },
    "Bloodstained Chivalry": {
        "artifacts": {
            "Bloodstained Flower of Iron": {
                "img": "assets/bloodstained_chivalry/Flower.png"
            },
            "Bloodstained Black Plume": {
                "img": "assets/bloodstained_chivalry/Feather.png"
            },
            "Bloodstained Final Hour": {
                "img": "assets/bloodstained_chivalry/Sands.png"
            },
            "Bloodstained Chevalier's Goblet": {
                "img": "assets/bloodstained_chivalry/Goblet.png"
            },
            "Bloodstained Iron Mask": {
                "img": "assets/bloodstained_chivalry/Circlet.png"
            }
        }
    },
    "Archaic Petra": {
        "artifacts": {
            "Flower of Creviced Cliff": {
                "img": "assets/archaic_petra/Flower.png"
            },
            "Feather of Jagged Peaks": {
                "img": "assets/archaic_petra/Feather.png"
            },
            "Sundial of Enduring Jade": {
                "img": "assets/archaic_petra/Sands.png"
            },
            "Goblet of Chiseled Crag": {
                "img": "assets/archaic_petra/Goblet.png"
            },
            "Mask of Solitude Basalt": {
                "img": "assets/archaic_petra/Circlet.png"
            }
        }
    },
    "Retracing Bolide": {
        "artifacts": {
            "Summer Night's Bloom": {
                "img": "assets/retracing_bolide/Flower.png"
            },
            "Summer Night's Finale": {
                "img": "assets/retracing_bolide/Feather.png"
            },
            "Summer Night's Moment": {
                "img": "assets/retracing_bolide/Sands.png"
            },
            "Summer Night's Waterballoon": {
                "img": "assets/retracing_bolide/Goblet.png"
            },
            "Summer Night's Mask": {
                "img": "assets/retracing_bolide/Circlet.png"
            }
        }
    },
    "Blizzard Strayer": {
        "artifacts": {
            "Snowswept Memory": {
                "img": "assets/blizzard_strayer/Flower.png"
            },
            "Icebreaker's Resolve": {
                "img": "assets/blizzard_strayer/Feather.png"
            },
            "Frozen Homeland's Demise": {
                "img": "assets/blizzard_strayer/Sands.png"
            },
            "Frost-Weaved Dignity": {
                "img": "assets/blizzard_strayer/Goblet.png"
            },
            "Broken Rime's Echo": {
                "img": "assets/blizzard_strayer/Circlet.png"
            }
        }
    },
    "Heart of Depth": {
        "artifacts": {
            "Gilded Corsage": {
                "img": "assets/heart_of_depth/Flower.png"
            },
            "Gust of Nostalgia": {
                "img": "assets/heart_of_depth/Feather.png"
            },
            "Copper Compass": {
                "img": "assets/heart_of_depth/Sands.png"
            },
            "Goblet of Thundering Deep": {
                "img": "assets/heart_of_depth/Goblet.png"
            },
            "Wine-Stained Tricorne": {
                "img": "assets/heart_of_depth/Circlet.png"
            }
        }
    },
    "Tenacity of the Millelith": {
        "artifacts": {
            "Flower of Accolades": {
                "img": "assets/tenacity_of_the_millelith/Flower.png"
            },
            "Ceremonial War-Plume": {
                "img": "assets/tenacity_of_the_millelith/Feather.png"
            },
            "Orichalceous Time-Dial": {
                "img": "assets/tenacity_of_the_millelith/Sands.png"
            },
            "Noble's Pledging Vessel": {
                "img": "assets/tenacity_of_the_millelith/Goblet.png"
            },
            "General's Ancient Helm": {
                "img": "assets/tenacity_of_the_millelith/Circlet.png"
            }
        }
    },
    "Pale Flame": {
        "artifacts": {
            "Stainless Bloom": {
                "img": "assets/pale_flame/Flower.png"
            },
            "Wise Doctor's Pinion": {
                "img": "assets/pale_flame/Feather.png"
            },
            "Moment of Cessation": {
                "img": "assets/pale_flame/Sands.png"
            },
            "Surpassing Cup": {
                "img": "assets/pale_flame/Goblet.png"
            },
            "Mocking Mask": {
                "img": "assets/pale_flame/Circlet.png"
            }
        }
    },
    "Emblem of Severed Fate": {
        "artifacts": {
            "Magnificent Tsuba": {
                "img": "assets/emblem_of_severed_fate/Flower.png"
            },
            "Sundered Feather": {
                "img": "assets/emblem_of_severed_fate/Feather.png"
            },
            "Storm Cage": {
                "img": "assets/emblem_of_severed_fate/Sands.png"
            },
            "Scarlet Vessel": {
                "img": "assets/emblem_of_severed_fate/Goblet.png"
            },
            "Ornate Kabuto": {
                "img": "assets/emblem_of_severed_fate/Circlet.png"
            }
        }
    },
    "Shimenawa's Reminiscense": {
        "artifacts": {
            "Entangling Bloom": {
                "img": "assets/shimenawas_reminiscense/Flower.png"
            },
            "Shaft of Remembrance": {
                "img": "assets/shimenawas_reminiscense/Feather.png"
            },
            "Morning Dew's Moment": {
                "img": "assets/shimenawas_reminiscense/Sands.png"
            },
            "Hopeful Heart": {
                "img": "assets/shimenawas_reminiscense/Goblet.png"
            },
            "Capricious Visage": {
                "img": "assets/shimenawas_reminiscense/Circlet.png"
            }
        }
    }
}

function createElements(containerHeadText) {
    let boxes = document.getElementById('boxes')
    let boxContainer = document.createElement('div')
    boxContainer.classList.add('box-container')
    boxContainer.setAttribute('id', `box-container ${containerHeadText}`)

    let itemContainer = document.createElement('div')
    itemContainer.classList.add('item-container')
    itemContainer.setAttribute('id', `item-container ${containerHeadText}`)

    let containerHeader = document.createElement('div')
    containerHeader.classList.add('container-header')
    let containerHeaderText = document.createElement('h1')
    containerHeaderText.innerText = (containerHeadText || 'Not Found')
    containerHeaderText.addEventListener('click', (() => {
        let setName = containerHeadText
        window.open(`${window.location.search}/genshin_artifacts/sets.html?set=${setName}`)
    }))

    boxes.appendChild(boxContainer)
    boxContainer.appendChild(containerHeader)
    boxContainer.appendChild(itemContainer)
    containerHeader.appendChild(containerHeaderText)

}

function createItems(setName, itemHeadText, itemImgLink, downArrow, itemNumber) {

    if (itemImgLink == '') {
        itemImgLink = 'assets/question_mark.png'
    }
    if (itemHeadText == '') {
        itemHeadText = 'Not Found'
    }

    let itemContainer = document.getElementById(`item-container ${setName}`)

    let item = document.createElement('div')
    item.classList.add('item')
    if (itemNumber <= 2) {
        item.classList.add('visible')
    } else {
        item.classList.add('hidden')
    }
    let itemHeader = document.createElement('div')
    itemHeader.classList.add('item-header')
    let itemHeaderText = document.createElement('h1')
    itemHeaderText.innerText = itemHeadText
    let itemImage = document.createElement('div')
    itemImage.classList.add('item-image')
    let itemImageImg = document.createElement('img')
    itemImageImg.src = itemImgLink
    let itemFooter = document.createElement('div')
    itemFooter.classList.add('item-footer')
    let itemFooterImg = document.createElement('img')
    itemFooterImg.src = downArrow

    itemContainer.appendChild(item)
    item.appendChild(itemHeader)
    itemHeader.appendChild(itemHeaderText)
    item.appendChild(itemImage)
    itemImage.appendChild(itemImageImg)
    item.appendChild(itemFooter)
    itemFooter.appendChild(itemFooterImg)
}

function createFooter(setName, downArrow, upArrow) {
    let boxContainer = document.getElementById(`box-container ${setName}`)

    let containerFooter = document.createElement('div')
    containerFooter.classList.add('container-footer')
    let containerFooterImgContainer = document.createElement('div')
    containerFooterImgContainer.classList.add('container-footer-image')
    let containerFooterImg = document.createElement('img')
    containerFooterImg.src = downArrow
    containerFooterImg.addEventListener('click', (() => {
        let set = document.getElementById(`box-container ${setName}`)
        let setChildren = set.children[1].children
        for (let i = 0; i < setChildren.length; i++) {
            let child = setChildren[i]

            if (child.classList.contains('hidden')) {
                child.classList.toggle('hidden')
                child.classList.add('visible-hidden')
                containerFooterImg.src = upArrow
            } else if (child.classList.contains('visible-hidden')) {
                child.classList.remove('visible-hidden')
                child.classList.toggle('hidden')
                containerFooterImg.src = downArrow
            }
        }

    }))

    boxContainer.appendChild(containerFooter)
    containerFooter.appendChild(containerFooterImgContainer)
    containerFooterImgContainer.appendChild(containerFooterImg)
}


function load() {

    let downArrow = 'assets/down_arrow.png'
    let upArrow = 'assets/up_arrow.png'

    const containerArr = []
    for (let x in infoJSON) {
        containerArr.push(x)
    }

    containerArr.forEach((x) => {

        let containerHeadText = x
        createElements(containerHeadText, downArrow)
    })

    containerArr.forEach((x) => {
        let artifactsJSON = infoJSON[x].artifacts
        const artifactsArr = []
        for (let z in artifactsJSON) {
            artifactsArr.push(z)
        }

        let itemNumber = 0
        artifactsArr.forEach((y) => {

            let setName = x
            let itemName = y

            let imgLink = infoJSON[x].artifacts[y].img
            if (imgLink == null) {
                imgLink = 'assets/question_mark.png'
            }
            if (itemName == null) {
                itemName = 'Not Found'
            }

            createItems(setName, itemName, imgLink, downArrow, itemNumber)
            itemNumber++
        })
    })
    containerArr.forEach((x) => {
        createFooter(x, downArrow, upArrow)
    })

}